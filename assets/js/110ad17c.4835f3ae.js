"use strict";(self.webpackChunkth_ws=self.webpackChunkth_ws||[]).push([[8671],{8050:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"my-tutorials/mcut-tutorials/week-2/E-1","title":"E-1 Applying OV5640 Driver Patch File to RZ/G2L","description":"This tutorial describes how to add a patch file for the OV5640 camera driver to the Yocto build system for the Renesas RZ/G2L platform.","source":"@site/docs/my-tutorials/mcut-tutorials/week-2/E-1.md","sourceDirName":"my-tutorials/mcut-tutorials/week-2","slug":"/my-tutorials/mcut-tutorials/week-2/E-1","permalink":"/tianhom/docs/my-tutorials/mcut-tutorials/week-2/E-1","draft":false,"unlisted":false,"editUrl":"https://github.com/tianhom0919/tianhom/tree/main/th-ws/docs/my-tutorials/mcut-tutorials/week-2/E-1.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"2-3 Adding a Simple Program by Editing Yocto Layers and Recipe","permalink":"/tianhom/docs/my-tutorials/mcut-tutorials/week-2/2-3"},"next":{"title":"E-2 Applying OV5640 Driver Patch File to RZ/V2H","permalink":"/tianhom/docs/my-tutorials/mcut-tutorials/week-2/E-2"}}');var n=i(4848),o=i(8453);const a={sidebar_position:4},s="E-1 Applying OV5640 Driver Patch File to RZ/G2L",l={},c=[{value:"Download Patch File",id:"download-patch-file",level:2},{value:"Copy Patch File to Specified Directory",id:"copy-patch-file-to-specified-directory",level:2},{value:"Modify <code>.bbappend</code> File",id:"modify-bbappend-file",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"e-1-applying-ov5640-driver-patch-file-to-rzg2l",children:"E-1 Applying OV5640 Driver Patch File to RZ/G2L"})}),"\n",(0,n.jsx)(t.p,{children:"This tutorial describes how to add a patch file for the OV5640 camera driver to the Yocto build system for the Renesas RZ/G2L platform."}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"download-patch-file",children:"Download Patch File"}),"\n",(0,n.jsx)(t.p,{children:"First, download the required patch file for the OV5640 driver. This patch file includes modifications to enable support for the OV5640 camera module in the Linux kernel."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(8596).A+"",children:"Download OV5640 Driver Patch"})}),"\n",(0,n.jsxs)(t.p,{children:["Make sure you save the patch file with a descriptive name like ",(0,n.jsx)(t.code,{children:"0001-add_ov5640.patch"})," so it\u2019s easy to identify."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"copy-patch-file-to-specified-directory",children:"Copy Patch File to Specified Directory"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"patch",src:i(8499).A+"",width:"1920",height:"1080"})}),"\n",(0,n.jsx)(t.p,{children:"Next, copy the downloaded patch file into the appropriate directory within your Yocto layers."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"~/yocto/meta-rz-features/meta-rz-graphics/recipes-kernel/linux/files/\n"})}),"\n",(0,n.jsx)(t.p,{children:"You can use the following command:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"cp 0001-add_ov5640.patch ~/yocto/meta-rz-features/meta-rz-graphics/recipes-kernel/linux/files/\n"})}),"\n",(0,n.jsx)(t.p,{children:"This step ensures that the patch is available to be picked up during the kernel build."}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.h2,{id:"modify-bbappend-file",children:["Modify ",(0,n.jsx)(t.code,{children:".bbappend"})," File"]}),"\n",(0,n.jsxs)(t.p,{children:["Now, you need to tell Yocto to apply the patch during the build process. To do this, edit the ",(0,n.jsx)(t.code,{children:".bbappend"})," file for the kernel recipe."]}),"\n",(0,n.jsx)(t.p,{children:"The file is:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"~/yocto/meta-rz-features/meta-rz-graphics/recipes-kernel/linux/linux-renesas_5.10.bbappend\n"})}),"\n",(0,n.jsx)(t.p,{children:"Open it in your preferred text editor and add the following lines:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'FILESEXTRAPATHS_prepend := "${THISDIR}/files:"\n\nSRC_URI_append_rzg2l = " \\\n        file://0002-Workaround-GPU-driver-remove-power-domains-of-GPU-no.patch \\\n        file://0001-add_ov5640.patch \\\n"\nSRC_URI_append_rzv2l = " \\\n        file://0002-Workaround-GPU-driver-remove-power-domains-v2l.patch\xa0\\\n"\n'})}),"\n",(0,n.jsx)(t.hr,{})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>s});var r=i(6540);const n={},o=r.createContext(n);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(o.Provider,{value:t},e.children)}},8499:(e,t,i)=>{i.d(t,{A:()=>r});const r=i.p+"assets/images/E-1-0-39e06d1327b0fa24d62e89f2dae6e363.png"},8596:(e,t,i)=>{i.d(t,{A:()=>r});const r=i.p+"assets/files/OV5640-3e7b1f75e1b5ce13a842b6adb212bbf5.patch"}}]);