"use strict";(self.webpackChunkth_ws=self.webpackChunkth_ws||[]).push([[8443],{4229:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"my-tutorials/week-3/3-4","title":"3-4 Preparing GStreamer Plugins for Yocto Compilation","description":"This tutorial will guide you through cloning and modifying the gst-plugins-bad repository for a custom project.","source":"@site/docs/my-tutorials/week-3/3-4.md","sourceDirName":"my-tutorials/week-3","slug":"/my-tutorials/week-3/3-4","permalink":"/tianhom/docs/my-tutorials/week-3/3-4","draft":false,"unlisted":false,"editUrl":"https://github.com/tianhom0919/tianhom/tree/main/th-ws/docs/my-tutorials/week-3/3-4.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"3-3 Developing GStreamer Plugins","permalink":"/tianhom/docs/my-tutorials/week-3/3-3"},"next":{"title":"3-5 Editing Recipes and Recompiling Yocto Project","permalink":"/tianhom/docs/my-tutorials/week-3/3-5"}}');var i=n(4848),r=n(8453);const s={sidebar_position:4},c="3-4 Preparing GStreamer Plugins for Yocto Compilation",d={},l=[{value:"Step 1: Clone the Project",id:"step-1-clone-the-project",level:2},{value:"Step 2: Check Out the Appropriate Branch",id:"step-2-check-out-the-appropriate-branch",level:2},{value:"Step 3: Modify Source Code",id:"step-3-modify-source-code",level:2},{value:"Step 4: Build the Project",id:"step-4-build-the-project",level:2}];function h(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"3-4-preparing-gstreamer-plugins-for-yocto-compilation",children:"3-4 Preparing GStreamer Plugins for Yocto Compilation"})}),"\n",(0,i.jsxs)(t.p,{children:["This tutorial will guide you through cloning and modifying the ",(0,i.jsx)(t.code,{children:"gst-plugins-bad"})," repository for a custom project."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"step-1-clone-the-project",children:"Step 1: Clone the Project"}),"\n",(0,i.jsx)(t.p,{children:"To clone the project, run the following command:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"git clone https://github.com/yourskc/gst-plugins-bad.git\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"If you intend to modify the repository as your own copy, fork it first. Remember to set the commit ID corresponding to your copy before proceeding with the Yocto build."})}),"\n",(0,i.jsx)(t.h2,{id:"step-2-check-out-the-appropriate-branch",children:"Step 2: Check Out the Appropriate Branch"}),"\n",(0,i.jsx)(t.p,{children:"Switch to the desired branch:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"git checkout RCAR-GEN3e/1.16.3\ngit branch\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"The cloned repository is ready for the Yocto build described in the next section. If you only want to use the prebuilt repository, you can skip the remaining steps and proceed to the next section."})}),"\n",(0,i.jsx)(t.h2,{id:"step-3-modify-source-code",children:"Step 3: Modify Source Code"}),"\n",(0,i.jsxs)(t.p,{children:["Copy ",(0,i.jsx)(t.code,{children:"gstequirectangular.c"})," and ",(0,i.jsx)(t.code,{children:"gstequirectangular.h"})," from the ",(0,i.jsx)(t.code,{children:"gst/geometrictransform/"})," directory of the development project ",(0,i.jsx)(t.code,{children:"gst-plugins-bad-dev"})," into the corresponding directory in the main project ",(0,i.jsx)(t.code,{children:"gst-plugins-bad"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Next, Uncomment the following line in the source code:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-c",metastring:'title="gstequirectangular.h"',children:"#define GST_RENESAS\n"})}),"\n",(0,i.jsx)(t.p,{children:"Commit and push your changes:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'git commit -m "comment"\ngit push\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Get the commit ID from the ",(0,i.jsx)(t.code,{children:".git"})," folder:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"cat .git/refs/heads/RCAR-GEN3e/1.16.3\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"OR"})}),"\n",(0,i.jsx)(t.p,{children:'Visit the repository branch on GitHub, and in the upper-right corner of the file list, click the "Commits" link to view commit details. Find your commit and copy the commit ID.'}),"\n",(0,i.jsx)(t.h2,{id:"step-4-build-the-project",children:"Step 4: Build the Project"}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"You can skip the build process if you\u2019ve already verified the correctness of the programs in the previous sections. However, if you wish to add new functionalities, ensure you modify the corresponding files and rebuild the project."})}),"\n",(0,i.jsxs)(t.p,{children:["Unlike the ",(0,i.jsx)(t.code,{children:"gst-plugins-bad-dev"})," project, which uses Meson for building, this project uses ",(0,i.jsx)(t.strong,{children:"GNU Automake"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"To build it, run:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"./autogen.sh\nmake\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"If you are building the project, it is recommended to use Ubuntu 20.04 as your development environment."})}),"\n",(0,i.jsx)(t.hr,{})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var o=n(6540);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);