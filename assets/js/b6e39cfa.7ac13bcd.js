"use strict";(self.webpackChunkth_ws=self.webpackChunkth_ws||[]).push([[352],{4418:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"my-tutorials/week-3/3-3","title":"3-3 Developing the gst-plugins-bad-dev Project","description":"GStreamer is a pipeline-based multimedia framework that links together a wide variety of media processing systems to complete complex workflows. For instance, GStreamer can be used to build a system that reads files in one format, processes them, and exports them in another. The formats and processes can be changed in a plug and play fashion. GStreamer is an extremely powerful and versatile framework for creating streaming media applications.","source":"@site/docs/my-tutorials/week-3/3-3.md","sourceDirName":"my-tutorials/week-3","slug":"/my-tutorials/week-3/3-3","permalink":"/tianhom/docs/my-tutorials/week-3/3-3","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/my-tutorials/week-3/3-3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"3-2 Generating Remap Mapping Files","permalink":"/tianhom/docs/my-tutorials/week-3/3-2"},"next":{"title":"Week 4","permalink":"/tianhom/docs/category/week-4"}}');var i=s(4848),r=s(8453);const a={sidebar_position:3},l="3-3 Developing the gst-plugins-bad-dev Project",o={},d=[{value:"Installing GStreamer",id:"installing-gstreamer",level:2},{value:"Set Up Development Environment Using <code>gst-plugins-bad-dev</code>",id:"set-up-development-environment-using-gst-plugins-bad-dev",level:2},{value:"Installing Meson",id:"installing-meson",level:2},{value:"Testing With Various Sources",id:"testing-with-various-sources",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsxs)(n.h1,{id:"3-3-developing-the-gst-plugins-bad-dev-project",children:["3-3 Developing the ",(0,i.jsx)(n.code,{children:"gst-plugins-bad-dev"})," Project"]})}),"\n",(0,i.jsx)(n.p,{children:"GStreamer is a pipeline-based multimedia framework that links together a wide variety of media processing systems to complete complex workflows. For instance, GStreamer can be used to build a system that reads files in one format, processes them, and exports them in another. The formats and processes can be changed in a plug and play fashion. GStreamer is an extremely powerful and versatile framework for creating streaming media applications."}),"\n",(0,i.jsx)(n.p,{children:"The image below shows how GStreamer elements are linked as a pipeline."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"pipeline",src:s(2711).A+"",width:"1000",height:"350"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"installing-gstreamer",children:"Installing GStreamer"}),"\n",(0,i.jsx)(n.p,{children:"To install GStreamer on Ubuntu 22.04, use the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgstreamer-plugins-bad1.0-dev gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio\n"})}),"\n",(0,i.jsx)(n.p,{children:"Try out this Hello World tutorial below by creating a program named 'basic-tutorial-1.c`."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",metastring:'title="basic-tutorial-1.c"',children:'#include <gst/gst.h>\n\n#ifdef __APPLE__\n#include <TargetConditionals.h>\n#endif\n\nint\ntutorial_main (int argc, char *argv[])\n{\n  GstElement *pipeline;\n  GstBus *bus;\n  GstMessage *msg;\n\n  /* Initialize GStreamer */\n  gst_init (&argc, &argv);\n\n  /* Build the pipeline */\n  pipeline =\n      gst_parse_launch\n      ("playbin uri=https://gstreamer.freedesktop.org/data/media/sintel_trailer-480p.webm",\n      NULL);\n\n  /* Start playing */\n  gst_element_set_state (pipeline, GST_STATE_PLAYING);\n\n  /* Wait until error or EOS */\n  bus = gst_element_get_bus (pipeline);\n  msg =\n      gst_bus_timed_pop_filtered (bus, GST_CLOCK_TIME_NONE,\n      GST_MESSAGE_ERROR | GST_MESSAGE_EOS);\n\n  /* See next tutorial for proper error message handling/parsing */\n  if (GST_MESSAGE_TYPE (msg) == GST_MESSAGE_ERROR) {\n    g_printerr ("An error occurred! Re-run with the GST_DEBUG=*:WARN "\n        "environment variable set for more details.\\n");\n  }\n\n  /* Free resources */\n  gst_message_unref (msg);\n  gst_object_unref (bus);\n  gst_element_set_state (pipeline, GST_STATE_NULL);\n  gst_object_unref (pipeline);\n  return 0;\n}\n\nint\nmain (int argc, char *argv[])\n{\n#if defined(__APPLE__) && TARGET_OS_MAC && !TARGET_OS_IPHONE\n  return gst_macos_main ((GstMainFunc) tutorial_main, argc, argv, NULL);\n#else\n  return tutorial_main (argc, argv);\n#endif\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Compile it by using the command below:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gcc basic-tutorial-1.c -o basic-tutorial-1 `pkg-config --cflags --libs gstreamer-1.0`\n"})}),"\n",(0,i.jsx)(n.p,{children:"If everything is built correctly, you may run the executable. You should see a window pop up, containing a video being played straight from the Internet, along with audio."}),"\n",(0,i.jsxs)(n.admonition,{title:"Try out these commands!",type:"tip",children:[(0,i.jsx)(n.p,{children:"Examples:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gst-inspect-1.0 geometrictransform\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gst-inspect-1.0 circle\n"})}),(0,i.jsx)(n.p,{children:"The commands above will show information such as the source module, plugin and element."}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gst-launch-1.0 videotestsrc pattern=0 ! autovideosink\n"})}),(0,i.jsxs)(n.p,{children:["Different patterns can be generated by adjusting the ",(0,i.jsx)(n.code,{children:"pattern"})," parameter from 0 to 25."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gst-launch-1.0 videotestsrc ! video/x-raw, width=1920, height=1080 ! videoconvert ! circle ! videoconvert ! autovideosink \n"})}),(0,i.jsx)(n.p,{children:"Feel free to play around by adding more parameters and observe the output!"})]}),"\n",(0,i.jsxs)(n.h2,{id:"set-up-development-environment-using-gst-plugins-bad-dev",children:["Set Up Development Environment Using ",(0,i.jsx)(n.code,{children:"gst-plugins-bad-dev"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"gst-plugins-bad-dev"}),' package is part of the GStreamer multimedia framework and provides the development files needed for working with the "bad" set of plugins in GStreamer.']}),"\n",(0,i.jsxs)(n.admonition,{title:"What are GStreamer plugins?",type:"info",children:[(0,i.jsx)(n.p,{children:"GStreamer plugins are modular components that extend the functionality of GStreamer by providing support for various codecs, formats, protocols, and other multimedia capabilities. These plugins are grouped into four categories based on their stability and quality:"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Base"}),": Stable, well-maintained, and widely used plugins."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.strong,{children:"Good"})}),": Good-quality plugins that are reliable and free from licensing issues."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bad"}),": Experimental plugins that are under development or have known issues (may require more testing or refinement)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ugly"}),": High-quality plugins with licensing or patent concerns."]}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:"Download the modified project here by cloning the GitHub repo below:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/yourskc/gst-plugins-bad-dev\n"})}),"\n",(0,i.jsxs)(n.p,{children:["which is developed based on the ",(0,i.jsx)(n.a,{href:"https://github.com/GStreamer/gst-plugins-bad",children:"original project"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["This modified project includes a new element named ",(0,i.jsx)(n.code,{children:"equirectangular"})," as part of the gst-plugins-bad geometric transform plugin. It contains GStreamer code units, build instructions, and test commands."]}),"\n",(0,i.jsx)(n.h2,{id:"installing-meson",children:"Installing Meson"}),"\n",(0,i.jsx)(n.p,{children:"Install the Meson build system:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install python3 python3-pip python3-setuptools \\\npython3-wheel ninja-build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Go to the ",(0,i.jsx)(n.code,{children:"~/gst-work/gst-plugins-bad-dev-main"})," directory and start the build:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"meson build\nninja -C build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Verify the build by checking the creation of the file ",(0,i.jsx)(n.code,{children:"libgstgeometrictransform.so"})," in the directory ",(0,i.jsx)(n.code,{children:"~/gst-work/gst-plugins-bad-dev-main/build/gst/geometrictransform"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Install the library and inspect:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo cp ./build/gst/geometrictransform/libgstgeometrictransform.so /usr/lib/x86_64-linux-gnu/gstreamer-1.0\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gst-inspect-1.0 equirectangular\n"})}),"\n",(0,i.jsx)(n.p,{children:"The expected output should be:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"inspect",src:s(574).A+"",width:"1280",height:"981"})}),"\n",(0,i.jsx)(n.h2,{id:"testing-with-various-sources",children:"Testing With Various Sources"}),"\n",(0,i.jsx)(n.p,{children:"Basic test with video test source:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd test_env\ngst-launch-1.0 videotestsrc ! video/x-raw,width=1920,height=1080 ! videoconvert ! equirectangular ! videoconvert ! autovideosink\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Attention!",type:"warning",children:(0,i.jsxs)(n.p,{children:["Ensure the execution directory contains ",(0,i.jsx)(n.code,{children:"EquimatX"})," and ",(0,i.jsx)(n.code,{children:"EquimatY"})," files."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://gstreamer.freedesktop.org/documentation/installing/index.html?gi-language=c",children:"Installing GStreamer"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://gstreamer.freedesktop.org/documentation/tutorials/basic/hello-world.html?gi-language=c",children:"Basic Tutorial 1: Hello world!"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://gstreamer.freedesktop.org/documentation/tools/gst-launch.html?gi-language=c",children:(0,i.jsx)(n.code,{children:"gst-launch-1.0"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://gstreamer.freedesktop.org/documentation/tools/gst-inspect.html?gi-language=c#",children:(0,i.jsx)(n.code,{children:"gst-inspect-1.0"})})}),"\n"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},2711:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/3-3-0-16672ac660cfa77ab8835c43489b0b71.png"},574:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/3-3-1-0fbd040414ca9080f9c906ff4f9c581a.png"},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);